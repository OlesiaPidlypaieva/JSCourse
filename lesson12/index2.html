<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <h2>Задача 2. Сортування змішуванням</h2>
   <script>
         function getRandomNumber(minValue,maxValue) {
         return minValue+Math.floor(Math.random()*(maxValue-minValue+1))
      }
      function generateRandomArray(arrayLength, minValue, maxValue) {
         const arr = []
         for (let i=0; i<arrayLength; i++) {
            const randomValue = getRandomNumber(minValue,maxValue)
            arr.push(randomValue)
         }
         return arr
      }
      const randomArray = generateRandomArray(30, 1, 50)
      document.write(`<h3>Base array is:</h3> ${randomArray}</h3>`)
      
      let leftIndex = 0
      let rightIndex = randomArray.length-1
      changesCounter = 0
      
      function getSortedArray(arr) {
         while (leftIndex<rightIndex) {
            for (let index = leftIndex; index<rightIndex; index++) {
               if (arr[index]>arr[index+1]) {
                  [arr[index],arr[index+1]] = [arr[index+1], arr[index]]
                  changesCounter++
               }

            } 
            rightIndex--
            for (let index = rightIndex; index>leftIndex; index--) {
               if (arr[index]<arr[index-1]) {
                  [arr[index-1],arr[index]] = [arr[index], arr[index-1]]
                  changesCounter++
               }
            }
            leftIndex++
         }
      }
   getSortedArray(randomArray);
   document.write(`<h3>Sorted array is:</h3> ${randomArray}
   <h3>The number of changes is:</h3> ${changesCounter}`)
   </script>
</body>
</html>