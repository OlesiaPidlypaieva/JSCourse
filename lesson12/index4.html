<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <h2>Задача 4</h2>
   <script>
         function getRandomNumber(minValue,maxValue) {
         return minValue+Math.floor(Math.random()*(maxValue-minValue+1))
      }
      function generateRandomArray(arrayLength, minValue, maxValue) {
         const arr = []
         for (let i=0; i<arrayLength; i++) {
            const randomValue = getRandomNumber(minValue,maxValue)
            arr.push(randomValue)
         }
         return arr
      }
      const randomArray = generateRandomArray(5, 1, 50)
      document.write(`<h3>Base array is:</h3> ${randomArray}
      <h3> Changes with 'Bubble' method are:</h3>`)

      let arrForBubble = JSON.parse(JSON.stringify(randomArray))
      function getSortedArrayBubble(arr) {
      let changed
      document.write('<table>')
      do {
         changed = false
         for (let i=1; i<arr.length; i++) {
            if (arr[i-1]>arr[i]) {
               let tmp = arr[i-1]
               arr[i-1] = arr[i]
               arr[i] = tmp
               changed = true
               document.write(`<tr><td>[${arr}]</td></tr>`)
            }
         }
      } while (changed);
      document.write('</table>')
   }
   getSortedArrayBubble(arrForBubble)
   
   document.write(`<h3> Changes with 'Coctail sort' method are:</h3>`)
   let arrForCoctailSort= JSON.parse(JSON.stringify(randomArray))
   function getSortedArrayCoctailSort(arr) {
      let leftIndex = 0
      let rightIndex = randomArray.length-1
      document.write('<table>')
         while (leftIndex<rightIndex) {
            for (let index = leftIndex; index<rightIndex; index++) {
               if (arr[index]>arr[index+1]) {
                  [arr[index],arr[index+1]] = [arr[index+1], arr[index]]
                  document.write(`<tr><td>[${arr}]</td></tr>`)
               }

            } 
            rightIndex--
            for (let index = rightIndex; index>leftIndex; index--) {
               if (arr[index]<arr[index-1]) {
                  [arr[index-1],arr[index]] = [arr[index], arr[index-1]]
                  document.write(`<tr><td>[${arr}]</td></tr>`)
               }
            }
            leftIndex++
         }
         document.write('</table>')
      }
   getSortedArrayCoctailSort(arrForCoctailSort);


   document.write(`<h3> Changes with 'Insertion sort' method are:</h3>`)
   let arrForInsertionSort= JSON.parse(JSON.stringify(randomArray))
            function getSortedArrayInsertionSort(arr) {
               document.write('<table>')
                  for (let k = 1; k<arr.length;k++) {
                  let currentElement = arr[k]
                  let i = k-1
                  while (i>=0 && arr[i]>currentElement) {
                        arr[i+1] = arr[i]
                        i=i-1

                  }
                  arr[i+1] = currentElement
                  document.write(`<tr><td>[${arr}]</td></tr>`)

                  }
                  document.write('</table>')
            }
      getSortedArrayInsertionSort(arrForInsertionSort);
   </script>
</body>
</html>